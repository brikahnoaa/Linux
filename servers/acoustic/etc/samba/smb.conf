#
# This file was generated by DirectControl for Samba adbindproxy.pl script
#
[global]
    security = ADS
    realm = PMEL.NOAA.GOV
    workgroup = PMEL
    netbios name = acoustic

    machine password timeout = 0
    passdb backend = tdbsam:/var/lib/samba/private/passdb.tdb

    #
    # Samba versions 3.4.0 and newer have replaced "use kerberos keytab"
    # with "kerberos method".  The directive "kerberos method = secrets and keytab"
    # enables Samba to honor service tickets that are still valid but were
    # created before the Samba server's password was changed.
    #
    kerberos method = secrets and keytab

    #
    # Setting "client use spnego principal" to true instructs SMB client to 
    # trust the service principal name returned by the SMB server. Otherwise, 
    # client cannot be authenticated via Kerberos by the server in a different
    # domain even though the two domains are mutually trusted.
    #
    #client use spnego principal = true

    #
    # Setting send spnego principal to yes .
    # Otherwise, it will not send this principal between Samba and Windows 2008
    #
    #send spnego principal = Yes

    # If your Samba server only serves to Windows systems, try server signing = mandatory.
    server signing = auto

    client ntlmv2 auth = yes
    client use spnego = yes 

    template shell = /bin/bash

    winbind use default domain = Yes

    winbind enum users = No
    winbind enum groups = No
    winbind nested groups = Yes

    # If you want to use a different winbind separator,
    # please add the new winbind separator to
    # adclient.ntlm.separators in centrifydc.conf.
    # winbind separator = \

    idmap cache time = 0

    #ignore syssetgroups error = No
    idmap config * : backend  = tdb
    idmap config * : range = 1000 - 200000000
    idmap config * : base_tdb = 0
    enable core files = false

    # Disable Logging to syslog, and only write log to Samba standard log files.
    #syslog = 0

;[samba-test]
;    path = /samba-test
;    public = yes
;
;    #  if set  public = No, we should  set parameter valid users .
;    #  and when the user or group is in AD , the setting syntaxes is:
;    #  valid users = PMEL\username +PMEL\group
;
;    writable = yes

  getwd cache = yes
;  root directory = /vd0
[homes]
    comment = Home directories
    read only = No
    browseable = No
    path = /data/users/%S
    valid users = @ac-r
    write list = @ac-rw
;   follow symlinks = yes
;       inherit acls = Yes
;       force create mode = 0640
;       force directory mode = 0750

[data]
    comment = All acoustic data
    path = /vd0
    valid users = @ac-r
    write list = @ac-rw
    wide links = yes

